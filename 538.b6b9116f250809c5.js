"use strict";(self.webpackChunkAngular_Tool=self.webpackChunkAngular_Tool||[]).push([[538],{5538:(F,y,i)=>{i.r(y),i.d(y,{EthereumModule:()=>U});var l=i(6895),r=i(433),m=i(6773),c=i(5861),g=i(3408),T=i(3595),f=i(955),k=i(8854);const o="0xE592427A0AEce92De3Edee1F18E0157C05861564",h=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],w=["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)","function totalSupply() view returns (uint256)","function balanceOf(address) view returns (uint)","function transfer(address to, uint amount) returns (bool)","function transferFrom(address from, address to, uint amount) returns (bool)","function approve(address spender, uint amount) returns (bool)","function allowance(address owner, address spender) view returns (uint)","event Transfer(address indexed from, address indexed to, uint amount)","event Approval(address indexed owner, address indexed spender, uint amount)"],b="https://mainnet.infura.io/v3/8451be8f26b440e0bea4a2130bd6ebc2";var e=i(8256);let _=(()=>{class n{constructor(t){this.fb=t}createForm(){return this.fb.group({provider:[b],privateKey:[null,[r.kI.required]],tokenAddress:[null,[r.kI.required]],amount:[null,[r.kI.required]],deadline:[Math.floor(Date.now()/1e3)+600],gasLimit:[null,[r.kI.required]],customGasPrice:[!1],gasPrice:[null]})}static#e=this.\u0275fac=function(a){return new(a||n)(e.LFG(r.qu))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E(n,u){1&n&&(e.TgZ(0,"span",18),e._uU(1,"Custom Gas Price"),e.qZA())}function I(n,u){1&n&&(e.TgZ(0,"span",18),e._uU(1,"Gas Price Auto"),e.qZA())}function M(n,u){1&n&&(e.TgZ(0,"div",3)(1,"label",4),e._uU(2,"Gas Price (Ex: 3 = 3 Gwei)"),e.qZA(),e._UZ(3,"input",19),e.qZA())}function S(n,u){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Oh no! Swap ETH to Token Error!!!"),e.qZA())}function C(n,u){1&n&&(e.TgZ(0,"p",21),e._uU(1,"Well done! Swap ETH to Token Success!!!"),e.qZA())}function Z(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"label",4),e._uU(3,"Provider"),e.qZA(),e._UZ(4,"input",5),e.qZA(),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Your PrivateKey"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",4),e._uU(11,"Token Address"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",3)(14,"label",4),e._uU(15,"Amount (ETH)"),e.qZA(),e._UZ(16,"input",8),e.qZA(),e.TgZ(17,"div",3)(18,"label",4),e._uU(19,"Gas Limit (Should >= 1.000.000) "),e.qZA(),e._UZ(20,"input",9),e.qZA(),e.TgZ(21,"div",3)(22,"label",10),e._UZ(23,"input",11)(24,"div",12),e.YNc(25,E,2,0,"span",13),e.YNc(26,I,2,0,"span",13),e.qZA()(),e.YNc(27,M,4,0,"div",14),e.TgZ(28,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.swapETHToToken())}),e._uU(29," Swap "),e.qZA(),e.YNc(30,S,2,0,"p",16),e.YNc(31,C,2,0,"p",17),e.qZA()}if(2&n){const t=e.oxw();let a,s,p;e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("readOnly",!0),e.xp6(21),e.Q6J("ngIf",null==(a=t.form.get("customGasPrice"))?null:a.value),e.xp6(1),e.Q6J("ngIf",!(null!=(s=t.form.get("customGasPrice"))&&s.value)),e.xp6(1),e.Q6J("ngIf",null==(p=t.form.get("customGasPrice"))?null:p.value),e.xp6(1),e.Q6J("ngClass",t.form.invalid||t.isLoading?"cursor-not-allowed":""),e.uIk("disabled",!!(t.form.invalid||t.isError&&!t.isSuccess)||null),e.xp6(2),e.Q6J("ngIf",t.isError&&!t.isSuccess),e.xp6(1),e.Q6J("ngIf",!t.isError&&t.isSuccess)}}const P=[{path:"auto-swap-eth-to-token",title:"Auto Swap ETH To Token",component:(()=>{class n{constructor(t){this.autoSwapEthToTokenFormService=t,this.isSuccess=!1,this.isError=!1,this.isLoading=!1}ngOnInit(){this.form=this.autoSwapEthToTokenFormService.createForm(),this.provider=new g.r6(b),this.form.get("customGasPrice")?.valueChanges.subscribe(t=>{t?this.form?.get("gasPrice")?.setValidators([r.kI.required]):(this.form?.get("gasPrice")?.setValue(null),this.form?.get("gasPrice")?.setValidators(null)),this.form?.get("gasPrice")?.updateValueAndValidity()})}createSigner(){this.signer=new T.w(this.form?.get("privateKey")?.value,this.provider)}createRouterContract(){this.routerContract=new f.CH(o,h,this.signer)}createTokenContract(){var t=this;return(0,c.Z)(function*(){t.tokenContract=new f.CH(t.form?.get("tokenAddress")?.value,w,t.signer),t.allowance=yield t.tokenContract.allowance(t.signer.address,o),t.allowance>0?console.log("\u0110\xe3 approve contract tr\u01b0\u1edbc \u0111\xf3 r\u1ed3i"):(console.log("Ch\u01b0a approve, c\u1ea7n approve"),yield(yield t.tokenContract.approve(o,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")).wait())})()}swapETHToToken(){var t=this;return(0,c.Z)(function*(){t.isLoading=!0,t.isSuccess=!1,t.isError=!1,t.signer||t.createSigner(),t.routerContract||t.createRouterContract(),(!t.tokenContract||t.allowance)&&(yield t.createTokenContract());const a=k.fi(t.form?.get("amount")?.value.toString());let s;s=t.form?.get("customGasPrice")?.value?1000000000n*BigInt(t.form?.get("gasPrice")?.value):yield t.provider.getFeeData().maxPriorityFeePerGas;const p=yield t.provider.getTransactionCount(t.signer.address),d={to:o,value:a,gasPrice:s,gasLimit:t.form?.get("gasLimit")?.value,nonce:p,data:t.routerContract.interface.encodeFunctionData("exactInputSingle",[{tokenIn:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",tokenOut:t.form?.get("tokenAddress")?.value,fee:500,recipient:t.signer.address,deadline:t.form?.get("deadline")?.value,amountIn:a,amountOutMinimum:1,sqrtPriceLimitX96:0}])};d.gasLimit=yield t.signer.estimateGas(d);const q=yield t.signer.sendTransaction(d);try{yield q.wait(),t.isSuccess=!0,t.isError=!1,t.isLoading=!1}catch(N){t.isSuccess=!1,t.isError=!0,t.isLoading=!1,console.log(N)}})()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(_))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["auto-swap-eth-to-token"]],decls:3,vars:1,consts:[[1,"header"],["class","max-w-sm mx-auto",3,"formGroup",4,"ngIf"],[1,"max-w-sm","mx-auto",3,"formGroup"],[1,"mb-5"],[1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","provider","placeholder","https://bsc-dataseed.binance.org","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"readOnly"],["formControlName","privateKey","type","password","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","tokenAddress","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","amount","type","number","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","gasLimit","type","number","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox","value","","formControlName","customGasPrice",1,"sr-only","peer"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],["class","ms-3 text-sm font-medium text-gray-900 dark:text-gray-300",4,"ngIf"],["class","mb-5",4,"ngIf"],["type","button",1,"mr-4","mb-4","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"ngClass","click"],["id","filled_error_help","class","mt-2 text-xs text-red-600 dark:text-red-400",4,"ngIf"],["id","filled_success_help","class","mt-2 text-xs text-green-600 dark:text-green-400",4,"ngIf"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","gasPrice","type","number","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["id","filled_error_help",1,"mt-2","text-xs","text-red-600","dark:text-red-400"],["id","filled_success_help",1,"mt-2","text-xs","text-green-600","dark:text-green-400"]],template:function(a,s){1&a&&(e.TgZ(0,"h1",0),e._uU(1,"Auto Swap ETH To Token"),e.qZA(),e.YNc(2,Z,32,9,"form",1)),2&a&&(e.xp6(2),e.Q6J("ngIf",s.form))},dependencies:[l.mk,l.O5,r._Y,r.Fj,r.wV,r.Wl,r.JJ,r.JL,r.Q7,r.sg,r.u]})}return n})()}];let O=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(P),m.Bz]})}return n})(),U=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[l.ez,r.UX,r.u5,O]})}return n})()}}]);